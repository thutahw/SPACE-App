{"version":3,"sources":["auth/AuthContext.js","pages/CreateSpace.jsx","pages/MySpaces.jsx","api/fetchSpaces.js","components/ListingCard.jsx","pages/Spaces.jsx","pages/SpaceDetail.jsx","pages/Login.jsx","pages/Signup.jsx","pages/BookingDashboard.jsx","pages/BookingPage.jsx","App.js","index.js"],"names":["AuthContext","createContext","AuthProvider","_ref","children","user","setUser","useState","React","createElement","Provider","value","login","userData","logout","useAuth","useContext","CreateSpace","history","useHistory","title","setTitle","description","setDescription","price","setPrice","location","setLocation","images","setImages","error","setError","loading","setLoading","apiBaseUrl","process","REACT_APP_API_URL","style","padding","maxWidth","margin","onSubmit","async","e","preventDefault","imageUrls","length","Array","from","map","f","concat","name","res","fetch","method","headers","body","JSON","stringify","ownerId","id","data","json","ok","push","err","display","flexDirection","gap","type","onChange","target","required","width","min","step","multiple","accept","files","color","disabled","backgroundColor","border","borderRadius","fontSize","MySpaces","spaces","setSpaces","editingId","setEditingId","editData","setEditData","useEffect","then","filter","s","catch","handleEditChange","_objectSpread","flexWrap","justifyContent","space","key","background","fontWeight","minHeight","onClick","updated","handleEditSave","marginTop","Fragment","src","alt","marginBottom","whiteSpace","_showFull","slice","cursor","startEdit","window","confirm","handleDelete","ListingCard","parsedImageUrls","parse","Link","to","textDecoration","boxSizing","overflow","textOverflow","lineHeight","aspectRatio","objectFit","flexGrow","Spaces","Error","fetchSpaces","console","alignItems","email","SpaceDetail","_space$imageUrls","useParams","setSpace","startDate","setStartDate","endDate","setEndDate","message","setMessage","flex","url","i","maxHeight","handleNext","pathname","state","userId","Login","setEmail","password","setPassword","href","Signup","role","setRole","BookingDashboard","myBookings","setMyBookings","incomingBookings","setIncomingBookings","refresh","setRefresh","updateStatus","bookingId","status","result","prev","alert","booking","_booking$Space","_booking$User","Space","User","marginRight","_booking$Space2","BookingPage","useLocation","adFile","setAdFile","submitting","setSubmitting","days","Math","ceil","Date","totalPrice","parseFloat","toFixed","rows","bookingRes","SpaceId","UserId","formData","FormData","append","App","Router","Switch","Route","exact","path","component","require","default","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.9be4bd70.chunk.js","sourcesContent":["import React, { createContext, useContext, useState } from 'react';\r\n\r\nconst AuthContext = createContext();\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n\r\n  const login = (userData) => {\r\n    setUser(userData); // Example: { id: 1, email: 'user@example.com' }\r\n  };\r\n\r\n  const logout = () => {\r\n    setUser(null);\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, login, logout }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useAuth = () => useContext(AuthContext);\r\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useAuth } from '../auth/AuthContext';\n\nconst CreateSpace = () => {\n  const { user } = useAuth();\n  const history = useHistory();\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n  const [price, setPrice] = useState('');\n  const [location, setLocation] = useState('');\n  const [images, setImages] = useState([]);\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const apiBaseUrl = process.env.REACT_APP_API_URL;\n\n  if (!user) {\n    return <p style={{ padding: '2rem' }}>You must be logged in to list a space.</p>;\n  }\n\n  const handleImageChange = (e) => {\n    setImages([...e.target.files]);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n    try {\n      let imageUrls = [];\n      if (images.length > 0) {\n        imageUrls = Array.from(images).map(f => `/assets/images/${f.name}`);\n      }\n      const res = await fetch(`${apiBaseUrl}/spaces`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          title,\n          description,\n          price,\n          location,\n          imageUrls,\n          ownerId: user.id\n        })\n      });\n      const data = await res.json();\n      if (!res.ok) {\n        setError(data.error || 'Failed to create space');\n      } else {\n        history.push('/');\n      }\n    } catch (err) {\n      setError('Failed to create space');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div style={{ padding: '2rem', maxWidth: 600, margin: '0 auto' }}>\n      <h2>List Your Own Space</h2>\n      <form onSubmit={handleSubmit} style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\n        <label>\n          Title:\n          <input type=\"text\" value={title} onChange={e => setTitle(e.target.value)} required style={{ width: '100%' }} />\n        </label>\n        <label>\n          Description:\n          <textarea value={description} onChange={e => setDescription(e.target.value)} required style={{ width: '100%' }} />\n        </label>\n        <label>\n          Price per Night ($):\n          <input type=\"number\" min=\"0\" step=\"0.01\" value={price} onChange={e => setPrice(e.target.value)} required style={{ width: '100%' }} />\n        </label>\n        <label>\n          Location:\n          <input type=\"text\" value={location} onChange={e => setLocation(e.target.value)} required style={{ width: '100%' }} />\n        </label>\n        <label>\n          Images:\n          <input type=\"file\" multiple accept=\"image/*\" onChange={handleImageChange} />\n        </label>\n        {error && <p style={{ color: 'red' }}>{error}</p>}\n        <button type=\"submit\" disabled={loading} style={{ padding: '0.75rem', backgroundColor: '#004aad', color: 'white', border: 'none', borderRadius: '4px', fontSize: '1rem' }}>\n          {loading ? 'Creating...' : 'Create'}\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default CreateSpace;\n\n\n\n\n//import React, { useState } from 'react';\n//import { useHistory } from 'react-router-dom';\n//import { useAuth } from '../auth/AuthContext';\n\n// const CreateSpace = () => {\n//   const { user } = useAuth();\n//   const history = useHistory();\n//   const [title, setTitle] = useState('');\n//   const [description, setDescription] = useState('');\n//   const [price, setPrice] = useState('');\n//   const [location, setLocation] = useState('');\n//   const [images, setImages] = useState([]);\n//   const [error, setError] = useState('');\n//   const [loading, setLoading] = useState(false);\n\n//   if (!user) {\n//     return <p style={{padding:'2rem'}}>You must be logged in to list a space.</p>;\n//   }\n\n//   const handleImageChange = (e) => {\n//     setImages([...e.target.files]);\n//   };\n\n//   const handleSubmit = async (e) => {\n//     e.preventDefault();\n//     setLoading(true);\n//     setError('');\n//     try {\n//       // For MVP: upload images to /public/assets/images and use local URLs\n//       let imageUrls = [];\n//       if (images.length > 0) {\n//         // Simulate upload: copy to /public/assets/images and use relative URLs\n//         // In real app, use S3 or backend upload endpoint\n//         imageUrls = Array.from(images).map(f => `/assets/images/${f.name}`);\n//       }\n//       const res = await fetch('http://localhost:4000/spaces', {\n//         method: 'POST',\n//         headers: { 'Content-Type': 'application/json' },\n//         body: JSON.stringify({\n//           title,\n//           description,\n//           price,\n//           location,\n//           imageUrls,\n//           ownerId: user.id\n//         })\n//       });\n//       const data = await res.json();\n//       if (!res.ok) {\n//         setError(data.error || 'Failed to create space');\n//       } else {\n//         history.push('/');\n//       }\n//     } catch (err) {\n//       setError('Failed to create space');\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   return (\n//     <div style={{ padding: '2rem', maxWidth: 600, margin: '0 auto' }}>\n//       <h2>List Your Own Space</h2>\n//       <form onSubmit={handleSubmit} style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\n//         <label>\n//           Title:\n//           <input type=\"text\" value={title} onChange={e => setTitle(e.target.value)} required style={{ width: '100%' }} />\n//         </label>\n//         <label>\n//           Description:\n//           <textarea value={description} onChange={e => setDescription(e.target.value)} required style={{ width: '100%' }} />\n//         </label>\n//         <label>\n//           Price per Night ($):\n//           <input type=\"number\" min=\"0\" step=\"0.01\" value={price} onChange={e => setPrice(e.target.value)} required style={{ width: '100%' }} />\n//         </label>\n//         <label>\n//           Location:\n//           <input type=\"text\" value={location} onChange={e => setLocation(e.target.value)} required style={{ width: '100%' }} />\n//         </label>\n//         <label>\n//           Images:\n//           <input type=\"file\" multiple accept=\"image/*\" onChange={handleImageChange} />\n//         </label>\n//         {error && <p style={{ color: 'red' }}>{error}</p>}\n//         <button type=\"submit\" disabled={loading} style={{ padding: '0.75rem', backgroundColor: '#004aad', color: 'white', border: 'none', borderRadius: '4px', fontSize: '1rem' }}>\n//           {loading ? 'Creating...' : 'Create'}\n//         </button>\n//       </form>\n//     </div>\n//   );\n// };\n\n// export default CreateSpace;\n","import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../auth/AuthContext';\nimport { useHistory } from 'react-router-dom';\n\nconst MySpaces = () => {\n  const { user } = useAuth();\n  const history = useHistory();\n  const [spaces, setSpaces] = useState([]);\n  const [editingId, setEditingId] = useState(null);\n  const [editData, setEditData] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const apiBaseUrl = process.env.REACT_APP_API_URL;\n\n  useEffect(() => {\n    if (user) {\n      fetch(`${apiBaseUrl}/spaces`)\n        .then(res => res.json())\n        .then(data => setSpaces(data.filter(s => s.ownerId === user.id)))\n        .catch(() => setError('Failed to load your spaces.'));\n    }\n  }, [user, apiBaseUrl]);\n\n  const handleDelete = async (id) => {\n    if (!window.confirm('Are you sure you want to delete this space?')) return;\n    setLoading(true);\n    await fetch(`${apiBaseUrl}/spaces/${id}`, { method: 'DELETE' });\n    setSpaces(spaces.filter(s => s.id !== id));\n    setLoading(false);\n  };\n\n  const startEdit = (space) => {\n    setEditingId(space.id);\n    setEditData({\n      title: space.title,\n      description: space.description,\n      price: space.price,\n      location: space.location,\n      imageUrls: space.imageUrls || [],\n    });\n  };\n\n  const handleEditChange = (e) => {\n    const { name, value } = e.target;\n    setEditData({ ...editData, [name]: value });\n  };\n\n  const handleEditSave = async (id) => {\n    setLoading(true);\n    const res = await fetch(`${apiBaseUrl}/spaces/${id}`, {\n      method: 'PATCH',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(editData)\n    });\n    if (res.ok) {\n      const updated = await res.json();\n      setSpaces(spaces.map(s => (s.id === id ? updated : s)));\n      setEditingId(null);\n    } else {\n      setError('Failed to update space.');\n    }\n    setLoading(false);\n  };\n\n  if (!user) return <p style={{padding:'2rem'}}>You must be logged in to view your spaces.</p>;\n\n  return (\n    <div style={{ padding: '2rem', maxWidth: '1200px', margin: '0 auto' }}>\n      <h2>Your Space Listings</h2>\n      {error && <p style={{ color: 'red' }}>{error}</p>}\n      {spaces.length === 0 ? (\n        <p>You have not listed any spaces yet.</p>\n      ) : (\n        <div style={{ display: 'flex', flexWrap: 'wrap', gap: '1rem', justifyContent: 'flex-start' }}>\n          {spaces.map(space => (\n            <div key={space.id} style={{ border: '1px solid #ccc', borderRadius: 8, padding: 16, width: 300, background: '#fff', display: 'flex', flexDirection: 'column', justifyContent: 'space-between' }}>\n              {editingId === space.id ? (\n                <div style={{ display: 'flex', flexDirection: 'column', gap: 8 }}>\n                  <input name=\"title\" value={editData.title} onChange={handleEditChange} style={{ fontWeight: 'bold', fontSize: 18 }} />\n                  <textarea name=\"description\" value={editData.description} onChange={handleEditChange} style={{ minHeight: 60 }} />\n                  <input name=\"price\" type=\"number\" value={editData.price} onChange={handleEditChange} />\n                  <input name=\"location\" value={editData.location} onChange={handleEditChange} />\n                  <button onClick={() => handleEditSave(space.id)} disabled={loading} style={{ background: '#004aad', color: '#fff', border: 'none', borderRadius: 4, padding: 8, marginTop: 8 }}>Save</button>\n                  <button onClick={() => setEditingId(null)} style={{ background: '#888', color: '#fff', border: 'none', borderRadius: 4, padding: 8 }}>Cancel</button>\n                </div>\n              ) : (\n                <>\n                  <h3>{space.title}</h3>\n                  {space.imageUrls && space.imageUrls.length > 0 && (\n                    <img src={space.imageUrls[0]} alt={space.title} style={{ width: '100%', borderRadius: 6, marginBottom: 8 }} />\n                  )}\n                  <p style={{ minHeight: '3.5rem', marginBottom: '0.5rem', whiteSpace: 'pre-line' }}>\n                    {space.description && space.description.length > 180 && !space._showFull ? (\n                      <>\n                        {space.description.slice(0, 180)}... <button style={{ color: '#004aad', background: 'none', border: 'none', cursor: 'pointer', padding: 0 }} onClick={() => setSpaces(spaces.map(s => s.id === space.id ? { ...s, _showFull: true } : s))}>See more</button>\n                      </>\n                    ) : (\n                      <>\n                        {space.description}\n                        {space.description && space.description.length > 180 && (\n                          <button style={{ color: '#004aad', background: 'none', border: 'none', cursor: 'pointer', padding: 0 }} onClick={() => setSpaces(spaces.map(s => s.id === space.id ? { ...s, _showFull: false } : s))}>See less</button>\n                        )}\n                      </>\n                    )}\n                  </p>\n                  <p><strong>Price:</strong> ${space.price}</p>\n                  <p><strong>Location:</strong> {space.location}</p>\n                  <div style={{ display: 'flex', gap: 8, marginTop: 8 }}>\n                    <button onClick={() => startEdit(space)} style={{ background: '#004aad', color: '#fff', border: 'none', borderRadius: 4, padding: 8 }}>Edit</button>\n                    <button onClick={() => handleDelete(space.id)} style={{ background: '#d32f2f', color: '#fff', border: 'none', borderRadius: 4, padding: 8 }}>Delete</button>\n                  </div>\n                </>\n              )}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MySpaces;\n\n\n// import React, { useEffect, useState } from 'react';\n// import { useAuth } from '../auth/AuthContext';\n// import { useHistory } from 'react-router-dom';\n\n// const MySpaces = () => {\n//   const { user } = useAuth();\n//   const history = useHistory();\n//   const [spaces, setSpaces] = useState([]);\n//   const [editingId, setEditingId] = useState(null);\n//   const [editData, setEditData] = useState({});\n//   const [loading, setLoading] = useState(false);\n//   const [error, setError] = useState('');\n\n//   useEffect(() => {\n//     if (user) {\n//       fetch('http://localhost:4000/spaces')\n//         .then(res => res.json())\n//         .then(data => setSpaces(data.filter(s => s.ownerId === user.id)))\n//         .catch(() => setError('Failed to load your spaces.'));\n//     }\n//   }, [user]);\n\n//   const handleDelete = async (id) => {\n//     if (!window.confirm('Are you sure you want to delete this space?')) return;\n//     setLoading(true);\n//     await fetch(`http://localhost:4000/spaces/${id}`, { method: 'DELETE' });\n//     setSpaces(spaces.filter(s => s.id !== id));\n//     setLoading(false);\n//   };\n\n//   const startEdit = (space) => {\n//     setEditingId(space.id);\n//     setEditData({\n//       title: space.title,\n//       description: space.description,\n//       price: space.price,\n//       location: space.location,\n//       imageUrls: space.imageUrls || [],\n//     });\n//   };\n\n//   const handleEditChange = (e) => {\n//     const { name, value } = e.target;\n//     setEditData({ ...editData, [name]: value });\n//   };\n\n//   const handleEditSave = async (id) => {\n//     setLoading(true);\n//     const res = await fetch(`http://localhost:4000/spaces/${id}`, {\n//       method: 'PATCH',\n//       headers: { 'Content-Type': 'application/json' },\n//       body: JSON.stringify(editData)\n//     });\n//     if (res.ok) {\n//       const updated = await res.json();\n//       setSpaces(spaces.map(s => (s.id === id ? updated : s)));\n//       setEditingId(null);\n//     } else {\n//       setError('Failed to update space.');\n//     }\n//     setLoading(false);\n//   };\n\n//   if (!user) return <p style={{padding:'2rem'}}>You must be logged in to view your spaces.</p>;\n\n//   return (\n//     <div style={{ padding: '2rem', maxWidth: '1200px', margin: '0 auto' }}>\n//       <h2>Your Space Listings</h2>\n//       {error && <p style={{ color: 'red' }}>{error}</p>}\n//       {spaces.length === 0 ? (\n//         <p>You have not listed any spaces yet.</p>\n//       ) : (\n//         <div style={{ display: 'flex', flexWrap: 'wrap', gap: '1rem', justifyContent: 'flex-start' }}>\n//           {spaces.map(space => (\n//             <div key={space.id} style={{ border: '1px solid #ccc', borderRadius: 8, padding: 16, width: 300, background: '#fff', display: 'flex', flexDirection: 'column', justifyContent: 'space-between' }}>\n//               {editingId === space.id ? (\n//                 <div style={{ display: 'flex', flexDirection: 'column', gap: 8 }}>\n//                   <input name=\"title\" value={editData.title} onChange={handleEditChange} style={{ fontWeight: 'bold', fontSize: 18 }} />\n//                   <textarea name=\"description\" value={editData.description} onChange={handleEditChange} style={{ minHeight: 60 }} />\n//                   <input name=\"price\" type=\"number\" value={editData.price} onChange={handleEditChange} />\n//                   <input name=\"location\" value={editData.location} onChange={handleEditChange} />\n//                   <button onClick={() => handleEditSave(space.id)} disabled={loading} style={{ background: '#004aad', color: '#fff', border: 'none', borderRadius: 4, padding: 8, marginTop: 8 }}>Save</button>\n//                   <button onClick={() => setEditingId(null)} style={{ background: '#888', color: '#fff', border: 'none', borderRadius: 4, padding: 8 }}>Cancel</button>\n//                 </div>\n//               ) : (\n//                 <>\n//                   <h3>{space.title}</h3>\n//                   {space.imageUrls && space.imageUrls.length > 0 && (\n//                     <img src={space.imageUrls[0]} alt={space.title} style={{ width: '100%', borderRadius: 6, marginBottom: 8 }} />\n//                   )}\n//                   <p style={{ minHeight: '3.5rem', marginBottom: '0.5rem', whiteSpace: 'pre-line' }}>\n//                     {space.description && space.description.length > 180 && !space._showFull ? (\n//                       <>\n//                         {space.description.slice(0, 180)}... <button style={{ color: '#004aad', background: 'none', border: 'none', cursor: 'pointer', padding: 0 }} onClick={() => setSpaces(spaces.map(s => s.id === space.id ? { ...s, _showFull: true } : s))}>See more</button>\n//                       </>\n//                     ) : (\n//                       <>\n//                         {space.description}\n//                         {space.description && space.description.length > 180 && (\n//                           <button style={{ color: '#004aad', background: 'none', border: 'none', cursor: 'pointer', padding: 0 }} onClick={() => setSpaces(spaces.map(s => s.id === space.id ? { ...s, _showFull: false } : s))}>See less</button>\n//                         )}\n//                       </>\n//                     )}\n//                   </p>\n//                   <p><strong>Price:</strong> ${space.price}</p>\n//                   <p><strong>Location:</strong> {space.location}</p>\n//                   <div style={{ display: 'flex', gap: 8, marginTop: 8 }}>\n//                     <button onClick={() => startEdit(space)} style={{ background: '#004aad', color: '#fff', border: 'none', borderRadius: 4, padding: 8 }}>Edit</button>\n//                     <button onClick={() => handleDelete(space.id)} style={{ background: '#d32f2f', color: '#fff', border: 'none', borderRadius: 4, padding: 8 }}>Delete</button>\n//                   </div>\n//                 </>\n//               )}\n//             </div>\n//           ))}\n//         </div>\n//       )}\n//     </div>\n//   );\n// };\n\n// export default MySpaces;\n","// apps/web/src/api/fetchSpaces.js\r\n\r\n/*\r\nexport const fetchSpaces = async () => {\r\n  const res = await fetch('http://localhost:4000/spaces');\r\n  if (!res.ok) throw new Error('Failed to fetch spaces');\r\n  return res.json();\r\n};\r\n*/\r\n\r\nconst apiBaseUrl = process.env.REACT_APP_API_URL;\r\n\r\nexport const fetchSpaces = async () => {\r\n  const res = await fetch(`${apiBaseUrl}/spaces`);\r\n  if (!res.ok) throw new Error('Failed to fetch spaces');\r\n  return res.json();\r\n};","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst ListingCard = ({ space }) => {\r\n  if (!space) {\r\n    return null;\r\n  }\r\n  // imageUrls가 string이면 JSON.parse, 배열이면 그대로 사용\r\n  const parsedImageUrls =\r\n    typeof space.imageUrls === 'string'\r\n      ? JSON.parse(space.imageUrls)\r\n      : space.imageUrls || [];\r\n\r\n  return (\r\n    <Link to={`/spaces/${space.id}`} style={{ textDecoration: 'none', color: 'inherit' }}>\r\n      <div\r\n        style={{\r\n          border: '1px solid #ccc',\r\n          padding: '1rem',\r\n          width: '300px',\r\n          minHeight: '550px',\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          justifyContent: 'space-between',\r\n          boxSizing: 'border-box',\r\n          borderRadius: '8px',\r\n          backgroundColor: '#fff',\r\n        }}\r\n      >\r\n        {/* Title */}\r\n        <h2\r\n          style={{\r\n            margin: '0 0 0.5rem 0',\r\n            minHeight: '3.5rem',\r\n            overflow: 'hidden',\r\n            textOverflow: 'ellipsis',\r\n            lineHeight: '1.2',\r\n            fontSize: '1.25rem'\r\n          }}\r\n        >\r\n          {space.title}\r\n        </h2>\r\n\r\n        {/* Image */}\r\n        {parsedImageUrls.length > 0 && (\r\n          <img\r\n            src={parsedImageUrls[0]}\r\n            alt={space.title}\r\n            style={{\r\n              width: '100%',\r\n              aspectRatio: '1 / 1',\r\n              objectFit: 'cover',\r\n              borderRadius: '8px',\r\n              marginBottom: '0.75rem',\r\n            }}\r\n          />\r\n        )}\r\n\r\n        {/* Description & Meta */}\r\n        <div style={{ flexGrow: 1 }}>\r\n          <p style={{ minHeight: '3.5rem', marginBottom: '0.5rem' }}>\r\n            {typeof space.description === 'string' && space.description\r\n              ? (space.description.length > 80\r\n                  ? space.description.slice(0, 77) + '...'\r\n                  : space.description)\r\n              : 'No description available.'}\r\n          </p>\r\n          <p style={{ margin: '0 0 0.25rem 0' }}>\r\n            <strong>Price Per Day:</strong> ${space && space.price ? space.price : 'N/A'}\r\n          </p>\r\n          <p style={{ margin: 0 }}>\r\n            <strong>Location:</strong> {space && space.location ? space.location : 'N/A'}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default ListingCard;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { fetchSpaces } from '../api/fetchSpaces';\r\nimport ListingCard from '../components/ListingCard';\r\nimport { useAuth } from '../auth/AuthContext';\r\n\r\nconst Spaces = () => {\r\n  const [spaces, setSpaces] = useState([]);\r\n  const history = useHistory();\r\n  const { user, logout } = useAuth();\r\n\r\n  useEffect(() => {\r\n    fetchSpaces()\r\n      .then(data => setSpaces(data))\r\n      .catch(err => console.error(\"Failed to fetch spaces:\", err));\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ padding: '2rem' }}>\r\n      {/* Header */}\r\n      <div style={{\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        marginBottom: '2rem'\r\n      }}>\r\n        <h1>Available Spaces</h1>\r\n\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>\r\n          {user && <span> Hello, <strong> {user.name || user.email}</strong></span>}\r\n          {user && (\r\n            <button\r\n              onClick={() => history.push('/bookings')}\r\n              style={{\r\n                padding: '0.5rem 1rem',\r\n                backgroundColor: 'green',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: '4px',\r\n                cursor: 'pointer'\r\n              }}\r\n            >\r\n              My Bookings\r\n            </button>\r\n          )}\r\n          {user && (\r\n            <button\r\n              onClick={() => history.push('/create-space')}\r\n              style={{\r\n                padding: '0.5rem 1rem',\r\n                backgroundColor: '#004aad',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: '4px',\r\n                cursor: 'pointer',\r\n                fontWeight: 'bold'\r\n              }}\r\n            >\r\n              List your own space\r\n            </button>\r\n          )}\r\n          {user && (\r\n            <button\r\n              onClick={() => history.push('/my-spaces')}\r\n              style={{\r\n                padding: '0.5rem 1rem',\r\n                backgroundColor: '#004aad',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: '4px',\r\n                cursor: 'pointer',\r\n                fontWeight: 'bold'\r\n              }}\r\n            >\r\n              View your spaces\r\n            </button>\r\n          )}\r\n          <button\r\n            onClick={() => {\r\n              if (user) {\r\n                logout();\r\n              } else {\r\n                history.push('/login');\r\n              }\r\n            }}\r\n            style={{\r\n              padding: '0.5rem 1rem',\r\n              backgroundColor: user ? '#888' : '#004aad',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '4px',\r\n              cursor: 'pointer'\r\n            }}\r\n          >\r\n            {user ? 'Logout' : 'Login'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <p>Spaces loaded: {spaces.length}</p>\r\n\r\n      {spaces.length === 0 ? (\r\n        <p>No listings found.</p>\r\n      ) : (\r\n        <div style={{ display: 'flex', flexWrap: 'wrap', gap: '1rem' }}>\r\n          {spaces.map(space => (\r\n            <ListingCard key={space.id} space={space} />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spaces;\r\n","// src/pages/SpaceDetail.jsx\n\n// src/pages/SpaceDetail.jsx\nimport React, { useEffect, useState } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { useAuth } from '../auth/AuthContext';\n\nconst SpaceDetail = () => {\n  const { id } = useParams();\n  const history = useHistory();\n  const { user } = useAuth();\n  const [space, setSpace] = useState(null);\n  const [startDate, setStartDate] = useState('');\n  const [endDate, setEndDate] = useState('');\n  const [message, setMessage] = useState('');\n\n  const apiBaseUrl = process.env.REACT_APP_API_URL || 'http://localhost:4000';\n\n  useEffect(() => {\n    fetch(`${apiBaseUrl}/spaces/${id}`)\n      .then(res => res.json())\n      .then(data => setSpace(data))\n      .catch(err => console.error('Failed to fetch space detail:', err));\n  }, [id, apiBaseUrl]);\n\n  const handleNext = () => {\n    if (!user) {\n      setMessage('You must be logged in to book.');\n      return;\n    }\n    if (!startDate || !endDate) {\n      setMessage('Please select start and end dates.');\n      return;\n    }\n    history.push({\n      pathname: '/booking',\n      state: {\n        space,\n        startDate,\n        endDate,\n        userId: user.id\n      }\n    });\n  };\n\n  if (!space) return <p>Loading...</p>;\n\n  return (\n    <div style={{ padding: '2rem', maxWidth: '1200px', margin: '0 auto' }}>\n      <h1>{space.title}</h1>\n      <div style={{ display: 'flex', gap: '2rem', alignItems: 'flex-start' }}>\n        {/* Left Side */}\n        <div style={{ flex: 2 }}>\n          {space.imageUrls?.map((url, i) => (\n            <img\n              key={i}\n              src={url}\n              alt={space.title}\n              style={{\n                width: '100%',\n                maxHeight: '400px',\n                objectFit: 'cover',\n                borderRadius: '8px',\n                marginBottom: '1rem'\n              }}\n            />\n          ))}\n          <p style={{ whiteSpace: 'pre-line' }}>{space.description}</p>\n          <p><strong>Price Per Day:</strong> ${space.price}</p>\n          <p><strong>Location:</strong> {space.location}</p>\n        </div>\n\n        {/* Right Side */}\n        <div style={{\n          flex: 1,\n          border: '1px solid #ccc',\n          padding: '1.5rem',\n          borderRadius: '8px',\n          backgroundColor: '#f9f9f9'\n        }}>\n          <h2>Book This Space</h2>\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '0.8rem' }}>\n            <label>\n              Start Date:\n              <input\n                type=\"date\"\n                value={startDate}\n                onChange={e => setStartDate(e.target.value)}\n                style={{ width: '100%', padding: '0.5rem' }}\n              />\n            </label>\n            <label>\n              End Date:\n              <input\n                type=\"date\"\n                value={endDate}\n                onChange={e => setEndDate(e.target.value)}\n                style={{ width: '100%', padding: '0.5rem' }}\n              />\n            </label>\n            <button\n              onClick={handleNext}\n              style={{\n                padding: '0.75rem',\n                fontSize: '1rem',\n                backgroundColor: '#004aad',\n                color: 'white',\n                border: 'none',\n                borderRadius: '4px',\n                cursor: 'pointer',\n                marginTop: '0.5rem'\n              }}\n            >\n              Proceed to Payment\n            </button>\n            {message && <p style={{ color: 'red' }}>{message}</p>}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SpaceDetail;\n\n// import React, { useEffect, useState } from 'react';\n// import { useParams, useHistory } from 'react-router-dom';\n// import { useAuth } from '../auth/AuthContext';\n\n// const SpaceDetail = () => {\n//   const { id } = useParams();\n//   const history = useHistory();\n//   const { user } = useAuth();\n//   const [space, setSpace] = useState(null);\n//   const [startDate, setStartDate] = useState('');\n//   const [endDate, setEndDate] = useState('');\n//   const [message, setMessage] = useState('');\n\n//   useEffect(() => {\n//     fetch(`http://localhost:4000/spaces/${id}`)\n//       .then(res => res.json())\n//       .then(data => setSpace(data))\n//       .catch(err => console.error('Failed to fetch space detail:', err));\n//   }, [id]);\n\n//   const handleNext = () => {\n//     if (!user) {\n//       setMessage('You must be logged in to book.');\n//       return;\n//     }\n//     if (!startDate || !endDate) {\n//       setMessage('Please select start and end dates.');\n//       return;\n//     }\n//     history.push({\n//       pathname: '/booking',\n//       state: {\n//         space,\n//         startDate,\n//         endDate,\n//         userId: user.id\n//       }\n//     });\n//   };\n\n//   if (!space) return <p>Loading...</p>;\n\n//   return (\n//     <div style={{ padding: '2rem', maxWidth: '1200px', margin: '0 auto' }}>\n//       <h1>{space.title}</h1>\n//       <div style={{ display: 'flex', gap: '2rem', alignItems: 'flex-start' }}>\n//         {/* Left Side */}\n//         <div style={{ flex: 2 }}>\n//           {space.imageUrls?.map((url, i) => (\n//             <img\n//               key={i}\n//               src={url}\n//               alt={space.title}\n//               style={{\n//                 width: '100%',\n//                 maxHeight: '400px',\n//                 objectFit: 'cover',\n//                 borderRadius: '8px',\n//                 marginBottom: '1rem'\n//               }}\n//             />\n//           ))}\n//           <p style={{ whiteSpace: 'pre-line' }}>{space.description}</p>\n//           <p><strong>Price Per Day:</strong> ${space.price}</p>\n//           <p><strong>Location:</strong> {space.location}</p>\n//         </div>\n//         {/* Right Side */}\n//         <div style={{\n//           flex: 1,\n//           border: '1px solid #ccc',\n//           padding: '1.5rem',\n//           borderRadius: '8px',\n//           backgroundColor: '#f9f9f9'\n//         }}>\n//           <h2>Book This Space</h2>\n//           <div style={{ display: 'flex', flexDirection: 'column', gap: '0.8rem' }}>\n//             <label>\n//               Start Date:\n//               <input\n//                 type=\"date\"\n//                 value={startDate}\n//                 onChange={e => setStartDate(e.target.value)}\n//                 style={{ width: '100%', padding: '0.5rem' }}\n//               />\n//             </label>\n//             <label>\n//               End Date:\n//               <input\n//                 type=\"date\"\n//                 value={endDate}\n//                 onChange={e => setEndDate(e.target.value)}\n//                 style={{ width: '100%', padding: '0.5rem' }}\n//               />\n//             </label>\n//             <button\n//               onClick={handleNext}\n//               style={{\n//                 padding: '0.75rem',\n//                 fontSize: '1rem',\n//                 backgroundColor: '#004aad',\n//                 color: 'white',\n//                 border: 'none',\n//                 borderRadius: '4px',\n//                 cursor: 'pointer',\n//                 marginTop: '0.5rem'\n//               }}\n//             >\n//               Proceed to Payment\n//             </button>\n//             {message && <p style={{ color: 'red' }}>{message}</p>}\n//           </div>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default SpaceDetail;\n","\r\nimport React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useAuth } from '../auth/AuthContext';\r\n\r\nconst Login = () => {\r\n  const { login } = useAuth();\r\n  const history = useHistory();\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\n  const apiBaseUrl = process.env.REACT_APP_API_URL;\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const res = await fetch(`${apiBaseUrl}/users/login`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ email, password })\r\n      });\r\n\r\n      const data = await res.json();\r\n      if (!res.ok) {\r\n        setError(data.error || 'Login failed');\r\n      } else {\r\n        login(data); // Save user in AuthContext\r\n        history.push('/');\r\n      }\r\n    } catch (err) {\r\n      setError('Login failed');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: '2rem', maxWidth: '400px', margin: '0 auto' }}>\r\n      <h2>Login</h2>\r\n      <form onSubmit={handleLogin}>\r\n        <label>Email:</label>\r\n        <input\r\n          type=\"email\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          style={{ width: '100%', marginBottom: '1rem' }}\r\n        />\r\n\r\n        <label>Password:</label>\r\n        <input\r\n          type=\"password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          style={{ width: '100%', marginBottom: '1rem' }}\r\n        />\r\n\r\n        {error && <p style={{ color: 'red' }}>{error}</p>}\r\n\r\n        <button type=\"submit\" style={{ padding: '0.5rem 1rem' }}>\r\n          Login\r\n        </button>\r\n        <p style={{ marginTop: '1rem' }}>\r\n          Don’t have an account?{' '}\r\n          <a href=\"/signup\" style={{ color: '#004aad', textDecoration: 'underline' }}>\r\n            Sign up here\r\n          </a>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n\r\n\r\n// import React, { useState } from 'react';\r\n// import { useHistory } from 'react-router-dom';\r\n// import { useAuth } from '../auth/AuthContext';\r\n\r\n// const Login = () => {\r\n//   const { login } = useAuth();\r\n//   const history = useHistory();\r\n//   const [email, setEmail] = useState('');\r\n//   const [password, setPassword] = useState('');\r\n//   const [error, setError] = useState('');\r\n\r\n//   const handleLogin = async (e) => {\r\n//   e.preventDefault();\r\n//   try {\r\n//     const res = await fetch('http://localhost:4000/users/login', {\r\n//       method: 'POST',\r\n//       headers: { 'Content-Type': 'application/json' },\r\n//       body: JSON.stringify({ email, password })\r\n//     });\r\n\r\n//     const data = await res.json();\r\n//     if (!res.ok) {\r\n//       setError(data.error || 'Login failed');\r\n//     } else {\r\n//       login(data); // Save user in AuthContext\r\n//       history.push('/');\r\n//     }\r\n//   } catch (err) {\r\n//     setError('Login failed');\r\n//   }\r\n// };\r\n\r\n\r\n//   return (\r\n//     <div style={{ padding: '2rem', maxWidth: '400px', margin: '0 auto' }}>\r\n//       <h2>Login</h2>\r\n//       <form onSubmit={handleLogin}>\r\n//         <label>Email:</label>\r\n//         <input\r\n//           type=\"email\"\r\n//           value={email}\r\n//           onChange={(e) => setEmail(e.target.value)}\r\n//           style={{ width: '100%', marginBottom: '1rem' }}\r\n//         />\r\n\r\n//         <label>Password:</label>\r\n//         <input\r\n//           type=\"password\"\r\n//           value={password}\r\n//           onChange={(e) => setPassword(e.target.value)}\r\n//           style={{ width: '100%', marginBottom: '1rem' }}\r\n//         />\r\n\r\n//         {error && <p style={{ color: 'red' }}>{error}</p>}\r\n\r\n//         <button type=\"submit\" style={{ padding: '0.5rem 1rem' }}>\r\n//           Login\r\n//         </button>\r\n//         <p style={{ marginTop: '1rem' }}>\r\n//           Don’t have an account?{' '}\r\n//           <a href=\"/signup\" style={{ color: '#004aad', textDecoration: 'underline' }}>\r\n//             Sign up here\r\n//           </a>\r\n//         </p>\r\n//       </form>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default Login;\r\n","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useAuth } from '../auth/AuthContext';\r\n\r\nconst Signup = () => {\r\n  const { login } = useAuth();\r\n  const history = useHistory();\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [role, setRole] = useState('user');\r\n  const [error, setError] = useState('');\r\n\r\n  const apiBaseUrl = process.env.REACT_APP_API_URL; // ✅ 환경변수로 API 주소 관리\r\n\r\n  const handleSignup = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const res = await fetch(`${apiBaseUrl}/users`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ email, password, role })\r\n      });\r\n\r\n      const data = await res.json();\r\n      if (!res.ok) {\r\n        setError(data.error || 'Signup failed');\r\n      } else {\r\n        login(data);\r\n        history.push('/');\r\n      }\r\n    } catch (err) {\r\n      setError('Signup failed');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: '2rem', maxWidth: '400px', margin: '0 auto' }}>\r\n      <h2>Sign Up</h2>\r\n      <form onSubmit={handleSignup}>\r\n        <label>Email:</label>\r\n        <input\r\n          type=\"email\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          style={{ width: '100%', marginBottom: '1rem' }}\r\n        />\r\n\r\n        <label>Password:</label>\r\n        <input\r\n          type=\"password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          style={{ width: '100%', marginBottom: '1rem' }}\r\n        />\r\n\r\n        <label>Role:</label>\r\n        <select\r\n          value={role}\r\n          onChange={(e) => setRole(e.target.value)}\r\n          style={{ width: '100%', marginBottom: '1rem' }}\r\n        >\r\n          <option value=\"user\">User</option>\r\n          <option value=\"admin\">Admin</option>\r\n        </select>\r\n\r\n        {error && <p style={{ color: 'red' }}>{error}</p>}\r\n\r\n        <button type=\"submit\" style={{ padding: '0.5rem 1rem' }}>\r\n          Sign Up\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n\r\n\r\n\r\n// import React, { useState } from 'react';\r\n// import { useHistory } from 'react-router-dom';\r\n// import { useAuth } from '../auth/AuthContext';\r\n\r\n// const Signup = () => {\r\n//   const { login } = useAuth();\r\n//   const history = useHistory();\r\n//   const [email, setEmail] = useState('');\r\n//   const [password, setPassword] = useState('');\r\n//   const [role, setRole] = useState('user');\r\n//   const [error, setError] = useState('');\r\n\r\n//   const handleSignup = async (e) => {\r\n//     e.preventDefault();\r\n\r\n//     try {\r\n//       const res = await fetch('http://localhost:4000/users', {\r\n//         method: 'POST',\r\n//         headers: { 'Content-Type': 'application/json' },\r\n//         body: JSON.stringify({ email, password, role })\r\n//       });\r\n\r\n//       const data = await res.json();\r\n//       if (!res.ok) {\r\n//         setError(data.error || 'Signup failed');\r\n//       } else {\r\n//         login(data);\r\n//         history.push('/');\r\n//       }\r\n//     } catch (err) {\r\n//       setError('Signup failed');\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <div style={{ padding: '2rem', maxWidth: '400px', margin: '0 auto' }}>\r\n//       <h2>Sign Up</h2>\r\n//       <form onSubmit={handleSignup}>\r\n//         <label>Email:</label>\r\n//         <input\r\n//           type=\"email\"\r\n//           value={email}\r\n//           onChange={(e) => setEmail(e.target.value)}\r\n//           style={{ width: '100%', marginBottom: '1rem' }}\r\n//         />\r\n\r\n//         <label>Password:</label>\r\n//         <input\r\n//           type=\"password\"\r\n//           value={password}\r\n//           onChange={(e) => setPassword(e.target.value)}\r\n//           style={{ width: '100%', marginBottom: '1rem' }}\r\n//         />\r\n\r\n//         <label>Role:</label>\r\n//         <select\r\n//           value={role}\r\n//           onChange={(e) => setRole(e.target.value)}\r\n//           style={{ width: '100%', marginBottom: '1rem' }}\r\n//         >\r\n//           <option value=\"user\">User</option>\r\n//           <option value=\"admin\">Admin</option>\r\n//         </select>\r\n\r\n//         {error && <p style={{ color: 'red' }}>{error}</p>}\r\n\r\n//         <button type=\"submit\" style={{ padding: '0.5rem 1rem' }}>\r\n//           Sign Up\r\n//         </button>\r\n//       </form>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default Signup;\r\n","// src/pages/BookingDashboard.jsx\n\nimport React, { useEffect, useState } from 'react';\nimport { useAuth } from '../auth/AuthContext';\n\nconst BookingDashboard = () => {\n  const { user } = useAuth();\n  const [myBookings, setMyBookings] = useState([]);\n  const [incomingBookings, setIncomingBookings] = useState([]);\n  const [refresh, setRefresh] = useState(false);\n  const [error, setError] = useState('');\n\n  const apiBaseUrl = process.env.REACT_APP_API_URL;\n\n  useEffect(() => {\n    if (!user) return;\n\n    // Fetch bookings made by this user\n    fetch(`${apiBaseUrl}/bookings/user/${user.id}`)\n      .then(res => res.json())\n      .then(data => setMyBookings(data))\n      .catch(err => {\n        console.error('Failed to fetch my bookings', err);\n        setError('Failed to fetch your bookings.');\n      });\n\n    // Fetch bookings received by this user if they are a space owner\n    fetch(`${apiBaseUrl}/bookings/owner/${user.id}`)\n      .then(res => res.json())\n      .then(data => setIncomingBookings(data))\n      .catch(err => {\n        console.error('Failed to fetch incoming bookings', err);\n        setError('Failed to fetch incoming bookings.');\n      });\n\n  }, [user, refresh]);\n\n  const updateStatus = async (bookingId, status) => {\n    try {\n      const res = await fetch(`${apiBaseUrl}/bookings/${bookingId}`, {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ status }),\n      });\n\n      const result = await res.json();\n\n      if (!res.ok) {\n        console.error('Failed to update booking status:', result.error);\n        alert(`Failed to update status: ${result.error || 'Unknown error'}`);\n      } else {\n        setRefresh(prev => !prev);\n      }\n    } catch (err) {\n      console.error('Network error while updating booking status:', err);\n      alert('Network error while updating booking status.');\n    }\n  };\n\n  return (\n    <div style={{ padding: '2rem' }}>\n      <h1>Booking Dashboard</h1>\n\n      {error && <p style={{ color: 'red' }}>{error}</p>}\n\n      {incomingBookings.length > 0 && (\n        <section style={{ marginBottom: '2rem' }}>\n          <h2>Incoming Booking Requests</h2>\n          <ul>\n            {incomingBookings.map(booking => (\n              <li key={booking.id} style={{ marginBottom: '1rem' }}>\n                <strong>{booking.Space?.title}</strong> — {booking.startDate} to {booking.endDate}<br />\n                Requested by: {booking.User?.email}<br />\n                Status: <strong>{booking.status}</strong>\n                {booking.message && (\n                  <p><strong>Message:</strong> {booking.message}</p>\n                )}\n                {booking.status === 'pending' && (\n                  <div style={{ marginTop: '0.5rem' }}>\n                    <button onClick={() => updateStatus(booking.id, 'confirmed')} style={{ marginRight: '0.5rem' }}>\n                      Approve\n                    </button>\n                    <button onClick={() => updateStatus(booking.id, 'rejected')} style={{ color: 'red' }}>\n                      Reject\n                    </button>\n                  </div>\n                )}\n              </li>\n            ))}\n          </ul>\n        </section>\n      )}\n\n      <section>\n        <h2>My Booking Requests</h2>\n        {myBookings.length === 0 ? (\n          <p>You haven't made any bookings.</p>\n        ) : (\n          <ul>\n            {myBookings.map(booking => (\n              <li key={booking.id} style={{ marginBottom: '1rem' }}>\n                <strong>{booking.Space?.title}</strong> — {booking.startDate} to {booking.endDate}<br />\n                Status: <strong>{booking.status}</strong>\n              </li>\n            ))}\n          </ul>\n        )}\n      </section>\n    </div>\n  );\n};\n\nexport default BookingDashboard;\n\n\n// import React, { useEffect, useState } from 'react';\n// import { useAuth } from '../auth/AuthContext';\n\n// const BookingDashboard = () => {\n//   const { user } = useAuth();\n//   const [myBookings, setMyBookings] = useState([]);\n//   const [incomingBookings, setIncomingBookings] = useState([]);\n//   const [refresh, setRefresh] = useState(false);\n//   const [error, setError] = useState('');\n\n//   useEffect(() => {\n//     if (!user) return;\n\n//     // Fetch bookings made by this user\n//     fetch(`http://localhost:4000/bookings/user/${user.id}`)\n//       .then(res => res.json())\n//       .then(data => setMyBookings(data))\n//       .catch(err => {\n//         console.error('Failed to fetch my bookings', err);\n//         setError('Failed to fetch your bookings.');\n//       });\n\n//     // Fetch bookings received by this user if they are a space owner\n//     fetch(`http://localhost:4000/bookings/owner/${user.id}`)\n//       .then(res => res.json())\n//       .then(data => setIncomingBookings(data))\n//       .catch(err => {\n//         console.error('Failed to fetch incoming bookings', err);\n//         setError('Failed to fetch incoming bookings.');\n//       });\n\n//   }, [user, refresh]);\n\n//   const updateStatus = async (bookingId, status) => {\n//     try {\n//       const res = await fetch(`http://localhost:4000/bookings/${bookingId}`, {\n//         method: 'PATCH',\n//         headers: { 'Content-Type': 'application/json' },\n//         body: JSON.stringify({ status }),\n//       });\n\n//       const result = await res.json();\n\n//       if (!res.ok) {\n//         console.error('Failed to update booking status:', result.error);\n//         alert(`Failed to update status: ${result.error || 'Unknown error'}`);\n//       } else {\n//         setRefresh(prev => !prev); // trigger re-fetch\n//       }\n//     } catch (err) {\n//       console.error('Network error while updating booking status:', err);\n//       alert('Network error while updating booking status.');\n//     }\n//   };\n\n//   return (\n//     <div style={{ padding: '2rem' }}>\n//       <h1>Booking Dashboard</h1>\n\n//       {error && <p style={{ color: 'red' }}>{error}</p>}\n\n//       /* Incoming Bookings (if this user owns spaces) */\n//       {incomingBookings.length > 0 && (\n//         <section style={{ marginBottom: '2rem' }}>\n//           <h2>Incoming Booking Requests</h2>\n//           <ul>\n//             {incomingBookings.map(booking => (\n//               <li key={booking.id} style={{ marginBottom: '1rem' }}>\n//                 <strong>{booking.Space?.title}</strong> — {booking.startDate} to {booking.endDate}<br />\n//                 Requested by: {booking.User?.email}<br />\n//                 Status: <strong>{booking.status}</strong>\n//                 {booking.message && (\n//                   <p><strong>Message:</strong> {booking.message}</p>\n//                 )}\n//                 {booking.status === 'pending' && (\n//                   <div style={{ marginTop: '0.5rem' }}>\n//                     <button\n//                       onClick={() => updateStatus(booking.id, 'confirmed')}\n//                       style={{ marginRight: '0.5rem' }}\n//                     >\n//                       Approve\n//                     </button>\n//                     <button\n//                       onClick={() => updateStatus(booking.id, 'rejected')}\n//                       style={{ color: 'red' }}\n//                     >\n//                       Reject\n//                     </button>\n//                   </div>\n//                 )}\n//               </li>\n//             ))}\n//           </ul>\n//         </section>\n//       )}\n\n//       {/* My Own Bookings */}\n//       <section>\n//         <h2>My Booking Requests</h2>\n//         {myBookings.length === 0 ? (\n//           <p>You haven't made any bookings.</p>\n//         ) : (\n//           <ul>\n//             {myBookings.map(booking => (\n//               <li key={booking.id} style={{ marginBottom: '1rem' }}>\n//                 <strong>{booking.Space?.title}</strong> — {booking.startDate} to {booking.endDate}<br />\n//                 Status: <strong>{booking.status}</strong>\n//               </li>\n//             ))}\n//           </ul>\n//         )}\n//       </section>\n//     </div>\n//   );\n// };\n\n// export default BookingDashboard;\n","// src/pages/BookingPage.jsx\n\nimport React, { useState } from 'react';\nimport { useLocation, useHistory } from 'react-router-dom';\n\nconst BookingPage = () => {\n  const location = useLocation();\n  const history = useHistory();\n  const { space, startDate, endDate, userId } = location.state || {};\n\n  const [message, setMessage] = useState('');\n  const [adFile, setAdFile] = useState(null);\n  const [submitting, setSubmitting] = useState(false);\n\n  const apiBaseUrl = process.env.REACT_APP_API_URL;\n\n  if (!space || !startDate || !endDate || !userId) {\n    return <p>Missing booking information. Please return to the space detail page.</p>;\n  }\n\n  const days = Math.ceil(\n    (new Date(endDate) - new Date(startDate)) / (1000 * 60 * 60 * 24)\n  );\n  const totalPrice = parseFloat(space.price) * days;\n\n  const handleSubmit = async () => {\n    if (!adFile) {\n      alert(\"Please upload your ad material\");\n      return;\n    }\n\n    setSubmitting(true);\n\n    try {\n      const bookingRes = await fetch(`${apiBaseUrl}/bookings`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          startDate,\n          endDate,\n          SpaceId: space.id,\n          UserId: userId,\n          status: \"pending\",\n          message,\n        }),\n      });\n\n      const booking = await bookingRes.json();\n\n      if (!bookingRes.ok) {\n        alert(`Booking failed: ${booking.error || \"unknown error\"}`);\n        return;\n      }\n\n      const formData = new FormData();\n      formData.append(\"adImage\", adFile);\n      formData.append(\"bookingId\", booking.id);\n\n      const uploadRes = await fetch(`${apiBaseUrl}/bookings/upload-ad/${booking.id}`, {\n        method: \"POST\",\n        body: formData,\n      });\n\n      if (!uploadRes.ok) {\n        alert(\"Booking was saved, but ad upload failed.\");\n        return;\n      }\n\n      alert(\"Booking completed successfully!\");\n      history.push(\"/bookings\");\n\n    } catch (err) {\n      console.error(\"Booking error:\", err);\n      alert(\"Unexpected error occurred.\");\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  return (\n    <div style={{ padding: \"2rem\", maxWidth: \"700px\", margin: \"0 auto\" }}>\n      <h1>Confirm Booking</h1>\n      <p><strong>Ad Space:</strong> {space.title}</p>\n      <p><strong>Price per day:</strong> ${space.price}</p>\n      <p><strong>Booking dates:</strong> {startDate} to {endDate} ({days} days)</p>\n      <p><strong>Total price:</strong> ${totalPrice.toFixed(2)}</p>\n\n      <label>\n        Upload Ad Material:\n        <input\n          type=\"file\"\n          accept=\"image/*\"\n          onChange={e => setAdFile(e.target.files[0])}\n        />\n      </label>\n\n      <br /><br />\n\n      <label>\n        Leave a message:\n        <textarea\n          rows=\"4\"\n          style={{ width: \"100%\" }}\n          value={message}\n          onChange={e => setMessage(e.target.value)}\n        />\n      </label>\n\n      <br />\n      <button\n        onClick={handleSubmit}\n        disabled={submitting}\n        style={{\n          padding: \"0.75rem 1.5rem\",\n          backgroundColor: \"#004aad\",\n          color: \"white\",\n          border: \"none\",\n          borderRadius: \"4px\",\n          cursor: \"pointer\",\n          fontSize: \"1rem\",\n        }}\n      >\n        {submitting ? \"Submitting...\" : \"Confirm Booking\"}\n      </button>\n    </div>\n  );\n};\n\nexport default BookingPage;\n\n\n\n\n\n// import React, { useState } from 'react';\n// import { useLocation, useHistory } from 'react-router-dom';\n\n// const BookingPage = () => {\n//   const location = useLocation();\n//   const history = useHistory();\n//   const { space, startDate, endDate, userId } = location.state || {};\n\n//   const [message, setMessage] = useState('');\n//   const [adFile, setAdFile] = useState(null);\n//   const [submitting, setSubmitting] = useState(false);\n\n//   if (!space || !startDate || !endDate || !userId) {\n//     return <p>Missing booking information. Please return to the space detail page.</p>;\n//   }\n\n//   const days = Math.ceil(\n//     (new Date(endDate) - new Date(startDate)) / (1000 * 60 * 60 * 24)\n//   );\n//   const totalPrice = parseFloat(space.price) * days;\n\n//   const handleSubmit = async () => {\n//     if (!adFile) {\n//       alert(\"Please upload your ad material\");\n//       return;\n//     }\n\n//     setSubmitting(true);\n\n//     try {\n//       // Step 1: Create booking in DB\n//       const bookingRes = await fetch(\"http://localhost:4000/bookings\", {\n//         method: \"POST\",\n//         headers: { \"Content-Type\": \"application/json\" },\n//         body: JSON.stringify({\n//           startDate,\n//           endDate,\n//           SpaceId: space.id,\n//           UserId: userId,\n//           status: \"pending\",\n//           message,\n//         }),\n//       });\n\n//       const booking = await bookingRes.json();\n\n//       if (!bookingRes.ok) {\n//         alert(`Booking failed: ${booking.error || \"unknown error\"}`);\n//         return;\n//       }\n\n//       // Step 2: Upload ad file\n//       const formData = new FormData();\n//       formData.append(\"adImage\", adFile);\n//       formData.append(\"bookingId\", booking.id);\n\n//       const uploadRes = await fetch(`http://localhost:4000/bookings/upload-ad/${booking.id}`, {\n//         method: \"POST\",\n//         body: formData,\n//       });\n\n//       if (!uploadRes.ok) {\n//         alert(\"Booking was saved, but ad upload failed.\");\n//         return;\n//       }\n\n//       alert(\"Booking completed successfully!\");\n//       history.push(\"/bookings\");\n\n//     } catch (err) {\n//       console.error(\"Booking error:\", err);\n//       alert(\"Unexpected error occurred.\");\n//     } finally {\n//       setSubmitting(false);\n//     }\n//   };\n\n//   return (\n//     <div style={{ padding: \"2rem\", maxWidth: \"700px\", margin: \"0 auto\" }}>\n//       <h1>Confirm Booking</h1>\n//       <p><strong>Ad Space:</strong> {space.title}</p>\n//       <p><strong>Price per day:</strong> ${space.price}</p>\n//       <p><strong>Booking dates:</strong> {startDate} to {endDate} ({days} days)</p>\n//       <p><strong>Total price:</strong> ${totalPrice.toFixed(2)}</p>\n\n//       <label>\n//         Upload Ad Material:\n//         <input\n//           type=\"file\"\n//           accept=\"image/*\"\n//           onChange={e => setAdFile(e.target.files[0])}\n//         />\n//       </label>\n\n//       <br /><br />\n\n//       <label>\n//         Leave a message:\n//         <textarea\n//           rows=\"4\"\n//           style={{ width: \"100%\" }}\n//           value={message}\n//           onChange={e => setMessage(e.target.value)}\n//         />\n//       </label>\n\n//       <br />\n//       <button\n//         onClick={handleSubmit}\n//         disabled={submitting}\n//         style={{\n//           padding: \"0.75rem 1.5rem\",\n//           backgroundColor: \"#004aad\",\n//           color: \"white\",\n//           border: \"none\",\n//           borderRadius: \"4px\",\n//           cursor: \"pointer\",\n//           fontSize: \"1rem\",\n//         }}\n//       >\n//         {submitting ? \"Submitting...\" : \"Confirm Booking\"}\n//       </button>\n//     </div>\n//   );\n// };\n\n// export default BookingPage;\n","// src/App.js\nimport React from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport Spaces from './pages/Spaces';\nimport SpaceDetail from './pages/SpaceDetail';\nimport Login from './pages/Login';\nimport Signup from './pages/Signup';\nimport BookingDashboard from './pages/BookingDashboard';\nimport BookingPage from './pages/BookingPage';\nimport { AuthProvider } from './auth/AuthContext';\n\nfunction App() {\n  return (\n    <AuthProvider>\n      <Router>\n        <Switch>\n          <Route exact path=\"/\" component={Spaces} />\n          <Route path=\"/login\" component={Login} />\n          <Route path=\"/signup\" component={Signup} />\n          <Route path=\"/spaces/:id\" component={SpaceDetail} />\n          <Route path=\"/bookings\" component={BookingDashboard} />\n          <Route path=\"/booking\" component={BookingPage} />\n          <Route path=\"/create-space\" component={require('./pages/CreateSpace').default} />\n          <Route path=\"/my-spaces\" component={require('./pages/MySpaces').default} />\n        </Switch>\n      </Router>\n    </AuthProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport App from './App';\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>\r\n);\r\n"],"sourceRoot":""}